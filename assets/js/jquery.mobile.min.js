
/*! Extremely tiny jQuery Mobile-like helpers for tabs (demo) */
window.JQMTabs=(function(){
  function show(id){
    document.querySelectorAll('.tab-page').forEach(p=>p.classList.add('hidden'));
    const el=document.getElementById(id);
    if(el){ el.classList.remove('hidden'); window.scrollTo(0,0); }
    // Persist active tab
    localStorage.setItem('activeTab', id);
  }
  function init(){
    const saved=localStorage.getItem('activeTab');
    if(saved && document.getElementById(saved)) show(saved);
    else show('tab1');
    document.querySelectorAll('[data-tab]').forEach(btn=>{
      btn.addEventListener('click',e=>{
        e.preventDefault();
        show(btn.getAttribute('data-tab'));
        navigator.vibrate && navigator.vibrate(10);
        const s=new Audio('assets/sounds/tap.wav'); s.volume=0.2; s.play().catch(()=>{});
      });
    });
  }
  return {init,show};
})();
